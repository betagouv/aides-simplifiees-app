/*!
 *  @module      auto-console-group v1.2.9
 *
 *  @description Automagically group console logs in the browser console.
 *
 *  @author      David J. Bradshaw <info@iframe-resizer.com>
 *  @see         {@link https://github.com/davidjbradshaw/auto-console-group#readme}
 *  @license     MIT
 *
 *  @copyright  (c) 2025, David J. Bradshaw. All rights reserved.
 */const le="font-weight: normal;",Ie="font-weight: bold;",Re="font-style: italic;",Ce=le+Re,Le="color: #135CD2;",Ae="color: #A9C7FB;",We="color: #1F1F1F;",Ne="color: #E3E3E3;",V="default",Fe="error",ue="log",He=Object.freeze({assert:!0,error:!0,warn:!0}),de={expand:!0,defaultEvent:void 0,event:void 0,label:"AutoConsoleGroup",showTime:!0},Pe={profile:0,profileEnd:0,timeStamp:0,trace:0},Be=t=>{const e=t.event||t.defaultEvent;return e?`${e}`:""},q=Object.assign(console);function qe(){const t=new Date,e=(v,j)=>t[v]().toString().padStart(j,"0"),n=e("getHours",2),l=e("getMinutes",2),u=e("getSeconds",2),p=e("getMilliseconds",3);return`@ ${n}:${l}:${u}.${p}`}const{fromEntries:Ue,keys:De}=Object,Je=t=>[t,q[t]],Ze=t=>e=>[e,function(n){t[e]=n}],te=(t,e)=>Ue(De(t).map(e));function Ve(t={}){const e={},n={},l=[],u={...de,expand:!t.collapsed||de.expanded,...t};let p="";function v(){l.length=0,p=""}function j(){delete u.event,v()}const E=()=>l.some(([i])=>i in He),T=()=>E()?!0:!!u.expand,c=()=>u.showTime?p:"";function r(){if(l.length===0){j();return}q[T()?"group":"groupCollapsed"](`%c${u.label}%c ${Be(u)} %c${c()}`,le,Ie,Ce);for(const[i,...d]of l)q.assert(i in q,`Unknown console method: ${i}`),i in q&&q[i](...d);q.groupEnd(),j()}function a(){p===""&&(p=qe())}function m(i){a(),u.event=i}function z(){a(),queueMicrotask(()=>queueMicrotask(r))}function k(i,...d){l.length===0&&z(),l.push([i,...d])}const x=i=>(...d)=>{let g;try{g=i(...d)}catch(f){if(Error.prototype.isPrototypeOf(f))k(Fe,f);else throw f}return g};function I(i,...d){i||k("assert",i,...d)}function M(i=V){n[i]?n[i]+=1:n[i]=1,k(ue,`${i}: ${n[i]}`)}function Z(i=V){delete n[i]}function A(i=V){a(),e[i]=performance.now()}function y(i=V,...d){if(!e[i]){k("timeLog",i,...d);return}const g=performance.now()-e[i];k(ue,`${i}: ${g} ms`,...d)}function h(i=V){y(i),delete e[i]}const s=i=>[i,(...d)=>k(i,...d)];return{...te(u,Ze(u)),...te(console,s),...te(Pe,Je),assert:I,count:M,countReset:Z,endAutoGroup:r,errorBoundary:x,event:m,purge:v,time:A,timeEnd:h,timeLog:y,touch:a}}const ve=typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches,L=ve?Ae:Le,K=ve?Ne:We;/*!
 *  @preserve
 *  
 *  @module      iframe-resizer/core 5.4.6 (esm) - 2025-04-24
 *
 *  @license     GPL-3.0 for non-commercial use only.
 *               For commercial use, you must purchase a license from
 *               https://iframe-resizer.com/pricing
 * 
 *  @description Keep same and cross domain iFrames sized to their content 
 *
 *  @author      David J. Bradshaw <info@iframe-resizer.com>
 * 
 *  @see         {@link https://iframe-resizer.com}
 * 
 *  @copyright  (c) 2013 - 2025, David J. Bradshaw. All rights reserved.
 */const ce="5.4.6",oe="[iFrameSizer]",_e=Object.freeze({max:1,scroll:1,bodyScroll:1,documentElementScroll:1}),ze="onload",$e="init",Ge=Object.freeze({[ze]:1,[$e]:1}),ie="expanded",Xe="collapsed",Ye=Object.freeze({[ie]:1,[Xe]:1}),_=(t,e,n,l)=>t.addEventListener(e,n,l||!1),fe=(t,e,n)=>t.removeEventListener(e,n,!1),pe=t=>{if(!t)return"";let e=-559038744,n=1103547984;for(let l,u=0;u<t.length;u++)l=t.codePointAt(u),e=Math.imul(e^l,2246822519),n=Math.imul(n^l,3266489917);return e^=Math.imul(e^n>>>15,1935289751),n^=Math.imul(n^e>>>15,3405138345),e^=n>>>16,n^=e>>>16,(2097152*(n>>>0)+(e>>>11)).toString(36)},Q=t=>t.replace(/[A-Za-z]/g,e=>String.fromCodePoint((e<="Z"?90:122)>=(e=e.codePointAt(0)+19)?e:e-26)),Ke=["<iy><yi>Puchspk Spjluzl Rlf</><iy><iy>","<iy><yi>Tpzzpun Spjluzl Rlf</><iy><iy>","Aopz spiyhyf pz hchpshisl dpao ivao Jvttlyjphs huk Vwlu-Zvbyjl spjluzlz.<iy><iy><i>Jvttlyjphs Spjluzl</><iy>Mvy jvttlyjphs bzl, <p>pmyhtl-ylzpgly</> ylxbpylz h svd jvza vul aptl spjluzl mll. Mvy tvyl pumvythapvu cpzpa <b>oaawz://pmyhtl-ylzpgly.jvt/wypjpun</>.<iy><iy><i>Vwlu Zvbyjl Spjluzl</><iy>Pm fvb hyl bzpun aopz spiyhyf pu h uvu-jvttlyjphs vwlu zvbyjl wyvqlja aolu fvb jhu bzl pa mvy myll bukly aol alytz vm aol NWS C3 Spjluzl. Av jvumpyt fvb hjjlwa aolzl alytz, wslhzl zla aol <i>spjluzl</> rlf pu <p>pmyhtl-ylzpgly</> vwapvuz av <i>NWSc3</>.<iy><iy>Mvy tvyl pumvythapvu wslhzl zll: <b>oaawz://pmyhtl-ylzpgly.jvt/nws</>","<i>NWSc3 Spjluzl Clyzpvu</><iy><iy>Aopz clyzpvu vm <p>pmyhtl-ylzpgly</> pz ilpun bzlk bukly aol alytz vm aol <i>NWS C3</> spjluzl. Aopz spjluzl hssvdz fvb av bzl <p>pmyhtl-ylzpgly</> pu Vwlu Zvbyjl wyvqljaz, iba pa ylxbpylz fvby wyvqlja av il wbispj, wyvcpkl haaypibapvu huk il spjluzlk bukly clyzpvu 3 vy shaly vm aol NUB Nlulyhs Wbispj Spjluzl.<iy><iy>Pm fvb hyl bzpun aopz spiyhyf pu h uvu-vwlu zvbyjl wyvqlja vy dlizpal, fvb dpss ullk av wbyjohzl h svd jvza vul aptl jvttlyjphs spjluzl.<iy><iy>Mvy tvyl pumvythapvu cpzpa <b>oaawz://pmyhtl-ylzpgly.jvt/wypjpun</>.","<iy><yi>Zvsv spjluzl kvlz uva zbwwvya jyvzz-kvthpu</><iy><iy>Av bzl <p>pmyhtl-ylzpgly</> dpao jyvzz kvthpu pmyhtlz fvb ullk lpaoly aol Wyvmlzzpvuhs vy Ibzpulzz spjluzlz. Mvy klahpsz vu bwnyhkl wypjpun wslhzl jvuahja pumv@pmyhtl-ylzpgly.jvt."],Qe=["NWSc3","zvsv","wyv","ibzpulzz","vlt"],me=Object.fromEntries(["2cgs7fdf4xb","1c9ctcccr4z","1q2pc4eebgb","ueokt0969w","w2zxchhgqz","1umuxblj2e5"].map((t,e)=>[t,Math.max(0,e-1)])),G=t=>Q(Ke[t]),et=t=>{const e=t[Q("spjluzl")];if(!e)return-1;const n=e.split("-");let l=function(u=""){let p=-2;const v=pe(Q(u));return v in me&&(p=me[v]),p}(n[0]);return l===0||(u=>u[2]===pe(u[0]+u[1]))(n)||(l=-2),l},tt=t=>t,he=t=>e=>window.chrome?t(e.replaceAll("<br>",`
`).replaceAll("<rb>","\x1B[31;1m").replaceAll("</>","\x1B[m").replaceAll("<b>","\x1B[1m").replaceAll("<i>","\x1B[3m").replaceAll("<u>","\x1B[4m")):t((n=>n.replaceAll("<br>",`
`).replaceAll(/<[/a-z]+>/gi,""))(e)),nt=(D=Ve,D!=null&&D.__esModule?D.default:D);var D;let B={},re=!1;const ot=t=>window.top===window.self?`parent(${t})`:`nested parent(${t})`,J=t=>(e,...n)=>{var l;return(l=B[e])==null?void 0:l.console[t](...n)};var ge;const P=(ge="log",(t,...e)=>(n=>B[n]?B[n].log:re)(t)===!0?J(ge)(t,...e):null),U=J("warn"),it=J("error"),ee=J("event"),rt=J("purge"),je=J("errorBoundary"),F=(t,...e)=>B[t]?B[t].console.warn(he(tt)(...e)):queueMicrotask(()=>console==null?void 0:console.warn(he((n=>(...l)=>[`iframeResizer(${n})`,...l].join(" "))(t))(...e))),at=(t=>(e,n="renamed to")=>(l,u,p="",v="")=>t(v,`<rb>Deprecated ${e}(${l.replace("()","")})</>

The <b>${l}</> ${e.toLowerCase()} has been ${n} <b>${u}</>. ${p}Use of the old ${e.toLowerCase()} will be removed in a future version of <i>iframe-resizer</>.`))(F),st=at("Option"),o={},X=Object.freeze({autoResize:!0,bodyBackground:null,bodyMargin:null,bodyPadding:null,checkOrigin:!0,direction:"vertical",inPageLinks:!1,heightCalculationMethod:"auto",id:"iFrameResizer",log:!1,logExpand:!1,license:void 0,mouseEvents:!0,offsetHeight:null,offsetWidth:null,postMessageTarget:null,sameDomain:!1,scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,waitForLoad:!1,warningTimeout:5e3,widthCalculationMethod:"auto",onClose:()=>!0,onClosed(){},onInit:!1,onMessage:null,onMouseEnter(){},onMouseLeave(){},onReady:t=>{typeof o[t.id].onInit=="function"&&(st("init()","onReady()","",t.id),o[t.id].onInit(t))},onResized(){},onScroll:()=>!0}),O={position:null,version:ce};function ye(t){function e(){Se(y),we(h),M("onResized",y)}function n(s){return s.boxSizing!=="border-box"?0:(s.paddingTop?parseInt(s.paddingTop,10):0)+(s.paddingBottom?parseInt(s.paddingBottom,10):0)}function l(s){return s.boxSizing!=="border-box"?0:(s.borderTopWidth?parseInt(s.borderTopWidth,10):0)+(s.borderBottomWidth?parseInt(s.borderBottomWidth,10):0)}const u=s=>A.slice(A.indexOf(":")+7+s),p=(s,i)=>(d,g)=>{const f={};var w,S;w=function(){H(`${d} (${s})`,`${s}:${i()}`,g)},f[S=g]||(w(),f[S]=requestAnimationFrame(()=>{f[S]=null}))},v=(s,i)=>()=>{let d=!1;const g=W=>()=>{o[b]?d&&d!==W||(s(W,b),d=W,requestAnimationFrame(()=>{d=!1})):C()},f=g("scroll"),w=g("resize window");function S(W,N){N(window,"scroll",f),N(window,"resize",w)}function C(){ee(b,`stop${i}`),S(0,fe),$.disconnect(),R.disconnect(),fe(o[b].iframe,"load",C)}const b=h,$=new ResizeObserver(g("pageObserver")),R=new ResizeObserver(g("iframeObserver"));o[b]&&(o[b][`stop${i}`]=C,_(o[b].iframe,"load",C),S(0,_),$.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),R.observe(o[b].iframe,{attributes:!0,childList:!1,subtree:!1}))},j=s=>()=>{s in o[h]&&(o[h][s](),delete o[h][s])},E=p("pageInfo",function(){const s=document.body.getBoundingClientRect(),i=y.iframe.getBoundingClientRect(),{scrollY:d,scrollX:g,innerHeight:f,innerWidth:w}=window,{clientHeight:S,clientWidth:C}=document.documentElement;return JSON.stringify({iframeHeight:i.height,iframeWidth:i.width,clientHeight:Math.max(S,f||0),clientWidth:Math.max(C,w||0),offsetTop:parseInt(i.top-s.top,10),offsetLeft:parseInt(i.left-s.left,10),scrollTop:d,scrollLeft:g,documentHeight:S,documentWidth:C,windowHeight:f,windowWidth:w})}),T=p("parentInfo",function(){const{iframe:s}=y,{scrollWidth:i,scrollHeight:d}=document.documentElement,{width:g,height:f,offsetLeft:w,offsetTop:S,pageLeft:C,pageTop:b,scale:$}=window.visualViewport;return JSON.stringify({iframe:s.getBoundingClientRect(),document:{scrollWidth:i,scrollHeight:d},viewport:{width:g,height:f,offsetLeft:w,offsetTop:S,pageLeft:C,pageTop:b,scale:$}})}),c=v(E,"PageInfo"),r=v(T,"ParentInfo"),a=j("stopPageInfo"),m=j("stopParentInfo");function z(s){const i=s.getBoundingClientRect();return Te(),{x:Number(i.left)+Number(O.position.x),y:Number(i.top)+Number(O.position.y)}}function k(s){const i=s?z(y.iframe):{x:0,y:0};P(h,`Reposition requested (offset x:%c${i.x}%c y:%c${i.y})`,L,K,L);const d=((f,w)=>({x:f.width+w.x,y:f.height+w.y}))(y,i),g=window.parentIframe||window.parentIFrame;g?function(f,w){f["scrollTo"+(s?"Offset":"")](w.x,w.y)}(g,d):function(f){O.position=f,x(h)}(d)}function x(s){var f;const{x:i,y:d}=O.position,g=(f=o[s])==null?void 0:f.iframe;M("onScroll",{iframe:g,top:d,left:i,x:i,y:d})!==!1?we(s):xe()}function I(s){let i={};if(y.width===0&&y.height===0){const d=u(9).split(":");i={x:d[1],y:d[0]}}else i={x:y.width,y:y.height};M(s,{iframe:y.iframe,screenX:Number(i.x),screenY:Number(i.y),type:y.type})}const M=(s,i)=>ae(h,s,i);function Z(){var C;const{height:s,iframe:i,msg:d,type:g,width:f}=y;switch((C=o[h])!=null&&C.firstRun&&o[h]&&(o[h].firstRun=!1),g){case"close":Ee(i);break;case"message":S=u(6),M("onMessage",{iframe:y.iframe,message:JSON.parse(S)});break;case"mouseenter":I("onMouseEnter");break;case"mouseleave":I("onMouseLeave");break;case"autoResize":o[h].autoResize=JSON.parse(u(9));break;case"scrollBy":(function(){const b=y.width,$=y.height,R=window.parentIframe||window.parentIFrame||window;P(h,`scrollBy: x: %c${b}%c y: %c${$}`,L,K,L),R.scrollBy(b,$)})();break;case"scrollTo":k(!1);break;case"scrollToOffset":k(!0);break;case"pageInfo":c();break;case"parentInfo":r();break;case"pageInfoStop":a();break;case"parentInfoStop":m();break;case"inPageLink":(function(b){const $=b.split("#")[1]||"",R=decodeURIComponent($);let W=document.getElementById(R)||document.getElementsByName(R)[0];W?function(){const N=z(W);P(h,`Moving to in page link: %c#${$}`,L),O.position={x:N.x,y:N.y},x(h),window.location.hash=$}():window.top!==window.self&&function(){const N=window.parentIframe||window.parentIFrame;N&&N.moveToAnchor($)}()})(u(9));break;case"title":(function(b,$){var R;(R=o[$])!=null&&R.syncTitle&&(o[$].iframe.title=b,P($,`Set iframe title attribute: %c${b}`,L))})(d,h);break;case"reset":Me(y);break;case"init":e(),function(b){var $,R,W;try{o[b].sameOrigin=!!((W=(R=($=o[b])==null?void 0:$.iframe)==null?void 0:R.contentWindow)!=null&&W.iframeChildListener)}catch{o[b].sameOrigin=!1}}(h),(w=d)!==ce&&(w!==void 0||F(h,`<rb>Legacy version detected in iframe</>

Detected legacy version of child page script. It is recommended to update the page in the iframe to use <b>@iframe-resizer/child</>.

See <u>https://iframe-resizer.com/setup/#child-page-setup</> for more details.
`)),se=!0,M("onReady",i);break;default:if(f===0&&s===0)return void U(h,`Unsupported message received (${g}), this is likely due to the iframe containing a later version of iframe-resizer than the parent page`);if(f===0||s===0||document.hidden)return;e()}var w,S}let A=t.data,y={},h=null;A!=="[iFrameResizerChild]Ready"?oe===`${A}`.slice(0,13)&&A.slice(13).split(":")[0]in o&&(y=function(){var f;const s=A.slice(13).split(":"),i=s[1]?Number(s[1]):0,d=(f=o[s[0]])==null?void 0:f.iframe,g=getComputedStyle(d);return{iframe:d,id:s[0],height:i+n(g)+l(g),width:Number(s[2]),type:s[3],msg:s[4]}}(),h=y.id,h?(ee(h,y.type),je(h,function(){(function(s){if(!o[s])throw new Error(`${y.type} No settings for ${s}. Message was: ${A}`)})(h),y.type in{true:1,false:1,undefined:1}||(o[h].loaded=!0,(y.iframe!==null||(U(h,`The iframe (${y.id}) was not found.`),0))&&function(){var g;const{origin:s,sameOrigin:i}=t;if(i)return!0;let d=(g=o[h])==null?void 0:g.checkOrigin;if(d&&`${s}`!="null"&&!(d.constructor===Array?function(){let f=0,w=!1;for(;f<d.length;f++)if(d[f]===s){w=!0;break}return w}():function(){var w;const f=(w=o[h])==null?void 0:w.remoteHost;return s===f}()))throw new Error(`Unexpected message received from: ${s} for ${y.iframe.id}. Message was: ${t.data}. This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.`);return!0}()&&Z())})()):U("","iframeResizer received messageData without id, message was: ",A)):Object.keys(o).forEach(s=>{o[s].mode>=0&&H("iFrame requested init",Oe(s),s)})}function ae(t,e,n){let l=null,u=null;if(o[t]){if(l=o[t][e],typeof l!="function")throw new TypeError(`${e} on iFrame[${t}] is not a function`);if(e==="onClose"||e==="onScroll")try{u=l(n)}catch(p){console.error(p),U(t,`Error in ${e} callback`)}else setTimeout(()=>l(n))}return u}function ke(t){const{id:e}=t;delete o[e],delete t.iframeResizer}function Ee(t){const{id:e}=t;if(ae(e,"onClose",e)!==!1){try{t.parentNode&&t.remove()}catch(n){U(e,n)}ae(e,"onClosed",e),ke(t)}}function Te(t){O.position===null&&(O.position={x:window.scrollX,y:window.scrollY})}function xe(){O.position=null}function we(t){O.position!==null&&(window.scrollTo(O.position.x,O.position.y),P(t,`Set page position: %c${O.position.x}%c, %c${O.position.y}`,L,K,L),xe())}function Me(t){Te(t.id),Se(t),H("reset","reset",t.id)}function Se(t){function e(p){const v=`${t[p]}px`;t.iframe.style[p]=v,P(n,`Set ${p}: %c${v}`,L)}const{id:n}=t,{sizeHeight:l,sizeWidth:u}=o[n];l&&e("height"),u&&e("width")}B=o;const lt=t=>t.split(":").filter((e,n)=>n!==19).join(":");function H(t,e,n,l){var p,v;function u(j){const E=t in Ge?lt(e):e;P(n,j,L,K,L),P(n,`Message data: %c${E}`,L)}ee(n,t),o[n]&&((p=o[n])!=null&&p.postMessageTarget?function(){const{iframe:j,postMessageTarget:E,sameOrigin:T,targetOrigin:c}=o[n];if(T)try{return j.contentWindow.iframeChildListener(oe+e),void u(`Sending message to iframe %c${n}%c via sameOrigin`)}catch{}u(`Sending message to iframe: %c${n}%c targetOrigin: %c${c}`),E.postMessage(oe+e,c)}():U(n,`Iframe(${n}) not found`),l&&((v=o[n])!=null&&v.warningTimeout)&&(o[n].msgTimeout=setTimeout(function(){if(o[n]===void 0)return;const{iframe:j,loaded:E,loadErrorShown:T,waitForLoad:c}=o[n],{sandbox:r}=j,a=typeof r=="object"&&r.length>0;E||T||(o[n].loadErrorShown=!0,F(n,`<rb>No response from iFrame</>
            
The iframe (<i>${n}</>) has not responded within ${o[n].warningTimeout/1e3} seconds. Check <b>@iframe-resizer/child</> package has been loaded in the iframe.
${c?`
The <b>waitForLoad</> option is currently set to <i>'true'</>. If the iframe loads before the JavaScript runs, this option will prevent <i>iframe-resizer</> from initialising. To disable this, set the <b>waitForLoad</> option to <i>'false'</>.  
`:""}${!a||r.contains("allow-scripts")&&r.contains("allow-same-origin")?"":`
The iframe has the <b>sandbox</> attribute, please ensure it contains both the <i>'allow-same-origin'</> and <i>'allow-scripts'</> values.
`} 
${!a||r.contains("allow-scripts")&&r.contains("allow-same-origin")?"":`The iframe has the <b>sandbox</> attribute, please ensure it contains both the <i>'allow-same-origin'</> and <i>'allow-scripts'</> values.
`}This message can be ignored if everything is working, or you can set the <b>warningTimeout</> option to a higher value or zero to suppress this warning.
`))},o[n].warningTimeout)))}function Oe(t){const e=o[t];return[t,"8",e.sizeWidth,e.log,"32",!0,e.autoResize,e.bodyMargin,e.heightCalculationMethod,e.bodyBackground,e.bodyPadding,e.tolerance,e.inPageLinks,"child",e.widthCalculationMethod,e.mouseEvents,e.offsetHeight,e.offsetWidth,e.sizeHeight,e.license,O.version,e.mode,"",e.logExpand].join(":")}let be=0,se=!1,ne=!1;const ct=t=>e=>{function n(){if(o[c]){const{iframe:r}=o[c],a={close:Ee.bind(null,r),disconnect:ke.bind(null,r),removeListeners(){F(c,`<rb>Deprecated Method Name</>

The \x1B[removeListeners()</> method has been renamed to \x1B[disconnect()</>.
`),this.disconnect()},resize(){F(c,`<rb>Deprecated Method</>
        
Use of the <b>resize()</> method from the parent page is deprecated and will be removed in a future version of <i>iframe-resizer</>. As their are no longer any edge cases that require triggering a resize from the parent page, it is recommended to remove this method from your code.`),H.bind(null,"Window resize","resize",c)},moveToAnchor(m){((z,k,x)=>{if(typeof z!==k)throw new TypeError(`${x} is not a ${I=k,I.charAt(0).toUpperCase()+I.slice(1)}`);var I})(m,"string","moveToAnchor(anchor) anchor"),H("Move to anchor",`moveToAnchor:${m}`,c)},sendMessage(m){H("message",`message:${m=JSON.stringify(m)}`,c)}};r.iframeResizer=a,r.iFrameResizer=a}}function l(r){const{id:a}=e,{mode:m,waitForLoad:z}=o[a];m!==-1&&m!==-2&&(_(e,"load",function(){H(ze,`${r}:${se}`,a,!0),function(){var I,M;const k=(I=o[c])==null?void 0:I.firstRun,x=((M=o[c])==null?void 0:M.heightCalculationMethod)in _e;!k&&x&&Me({iframe:e,height:0,width:0,type:"init"})}()}),z===!1&&H($e,`${r}:${se}`,a,!0))}function u(r){return r?(("sizeWidth"in r||"sizeHeight"in r||"autoResize"in r)&&F(c,`<rb>Deprecated Option</>

The <b>sizeWidth</>, <b>sizeHeight</> and <b>autoResize</> options have been replaced with new <b>direction</> option which expects values of <i>"vertical"</>, <i>"horizontal"</> or <i>"horizontal"</>.
`),r):{}}function p(){const{mode:r}=o[c];if(r<0)throw F("Parent",`${G(r+2)}${G(2)}`),rt(c),G(r+2).replace(/<\/?[a-z][^>]*>|<\/>/gi,"");ne||r>0&&t.vInfoDisable||function(a,m){queueMicrotask(()=>console.info(`%ciframe-resizer ${a}`,re||m<1?"font-weight: bold;":le))}(`v${ce} (${(a=>Q(Qe[a]))(r)})`,r),!ne&&r<1&&F("Parent",G(3)),ne=!0}function v(r){var m,z;const a=(z=(m=o[r])==null?void 0:m.iframe)==null?void 0:z.title;return a===""||a===void 0}const j=r=>Object.hasOwn(r,"onMouseEnter")||Object.hasOwn(r,"onMouseLeave");function E(r){var a,m;o[c]={...o[c],iframe:e,firstRun:!0,remoteHost:e==null?void 0:e.src.split("/").slice(0,3).join("/"),...X,...u(r),mouseEvents:j(r),mode:et(r),syncTitle:v(c)},ee(c,"setup"),function(){const{direction:z}=o[c];if(z==="horizontal")return o[c].sizeWidth=!0,void(o[c].sizeHeight=!1);if(z==="none")return o[c].sizeWidth=!1,o[c].sizeHeight=!1,void(o[c].autoResize=!1);if(z!=="vertical")throw new TypeError(c,`Direction value of "${z}" is not valid`)}(),(a=(r==null?void 0:r.offsetSize)||(r==null?void 0:r.offset))&&(o[c].direction==="vertical"?o[c].offsetHeight=a:o[c].offsetWidth=a),r!=null&&r.offset&&F(c,`<rb>Deprecated option</>

 The <b>offset</> option has been renamed to <b>offsetSize</>. Use of the old name will be removed in a future version of <i>iframe-resizer</>.`),o[c].postMessageTarget===null&&(o[c].postMessageTarget=e.contentWindow),o[c].targetOrigin=o[c].checkOrigin===!0?(m=o[c].remoteHost)===""||m.match(/^(about:blank|javascript:|file:\/\/)/)!==null?"*":m:"*"}const T=()=>"iframeResizer"in e,c=function(r){if(r&&typeof r!="string")throw new TypeError("Invalid id for iFrame. Expected String");return r!==""&&r||(r=function(){let a=(t==null?void 0:t.id)||X.id+be++;return document.getElementById(a)!==null&&(a+=be++),a}(),e.id=r),r}(e.id);if(typeof t!="object")throw new TypeError("Options is not an object");return function(r){const{search:a}=window.location;a.includes("ifrlog")&&(r.log=ie,r.logExpand=!a.includes("ifrlog=collapsed"))}(t),function(r,a){const m=Object.hasOwn(a,"log"),z=typeof a.log=="string",k=m?!!z||a.log:X.log;Object.hasOwn(a,"logExpand")||(a.logExpand=m&&z?a.log===ie:X.logExpand),function(x){(x==null?void 0:x.log)===-1&&(x.log=!1,x.vInfoDisable=!0)}(a),function({enabled:x,expand:I,iframeId:M}){const Z=nt({expand:I,label:ot(M)});re=x,B[M]||(B[M]={console:Z})}({enabled:k,expand:a.logExpand,iframeId:r}),z&&!(a.log in Ye)&&it(r,'Invalid value for options.log: Accepted values are "expanded" and "collapsed"'),a.log=k}(c,t),je(c,function(r){T()?U(c,`Ignored iframe (${c}), already setup.`):(E(r),p(),dt(),function(){var a,m;switch(e.style.overflow=((a=o[c])==null?void 0:a.scrolling)===!1?"hidden":"auto",(m=o[c])==null?void 0:m.scrolling){case"omit":break;case!0:e.scrolling="yes";break;case!1:e.scrolling="no";break;default:e.scrolling=o[c]?o[c].scrolling:"no"}}(),function(){const{bodyMargin:a}=o[c];typeof a!="number"&&a!=="0"||(o[c].bodyMargin=`${a}px`)}(),l(Oe(c)),n())})(t),e==null?void 0:e.iFrameResizer};function ut(){document.hidden===!1&&function(t,e){const n=l=>{var u,p;return((u=o[l])==null?void 0:u.autoResize)&&!((p=o[l])!=null&&p.firstRun)};Object.keys(o).forEach(function(l){n(l)&&H(t,e,l)})}("Tab Visible","resize")}const dt=(t=>{let e=!1;return function(){return e?void 0:(e=!0,Reflect.apply(t,this,arguments))}})(()=>{_(window,"message",ye),_(document,"visibilitychange",ut),window.iframeParentListener=t=>setTimeout(()=>ye({data:t,sameOrigin:!0}))});/*!
 *  @preserve
 *  
 *  @module      iframe-resizer/parent 5.4.6 (esm) - 2025-04-24
 *
 *  @license     GPL-3.0 for non-commercial use only.
 *               For commercial use, you must purchase a license from
 *               https://iframe-resizer.com/pricing
 * 
 *  @description Keep same and cross domain iFrames sized to their content 
 *
 *  @author      David J. Bradshaw <info@iframe-resizer.com>
 * 
 *  @see         {@link https://iframe-resizer.com}
 * 
 *  @copyright  (c) 2013 - 2025, David J. Bradshaw. All rights reserved.
 */const ft="iframeResizer",Y=`[${ft}] `;function pt(){function t(l){switch(!0){case!l:throw new TypeError(`${Y}iframe is not defined`);case!l.tagName:throw new TypeError(`${Y}Not a valid DOM element`);case l.tagName.toUpperCase()!=="IFRAME":throw new TypeError(`${Y}Expected <IFRAME> tag, found <${l.tagName}>`);default:e(l),n.push(l)}}let e,n;return function(l,u){if(typeof window>"u")return[];switch(e=ct(l),n=[],typeof u){case"undefined":case"string":document.querySelectorAll(u||"iframe").forEach(t);break;case"object":t(u);break;default:throw new TypeError(`${Y}Unexpected data type (${typeof u})`)}return Object.freeze(n)}}const mt=pt();(function(){if(typeof window>"u"||typeof document>"u")return;const t=document.currentScript;if(!t){console.error("Impossible de trouver l'élément de script courant");return}const e=t.dataset.simulateur||"demenagement-logement",n=t.dataset.height||"600px",l=t.dataset.log==="true",u=t.dataset.waitForLoad!=="false",p=t.dataset.containerId||"aides-simplifiees-iframe-container",j=new URL(t.src).origin,E=new URL(`${j}/simulateurs/${e}`);E.searchParams.set("iframe","true"),E.searchParams.set("utm_source",`iframe@${window.location.hostname}`),E.searchParams.set("utm_term",window.location.pathname);const T=document.createElement("iframe"),c={id:"simulateur-aides",src:E.toString(),title:"Simulateur d'aides simplifiées",style:`border: none; width: 100%; display: block; height: ${n}; opacity: 0; transition: opacity 0.5s;`,loading:"lazy"};for(const a in c)T.setAttribute(a,c[a]);const r=document.getElementById(p);if(r)r.appendChild(T);else if(t.parentElement.tagName==="HEAD"){console.warn(`Container with id "${p}" not found. Creating fallback container.`);const a=document.createElement("div");a.id=p;const m=document.body||document.querySelector("body");m&&(m.appendChild(a),a.appendChild(T))}else console.warn(`Container with id "${p}" not found. Inserting iframe after script.`),t.insertAdjacentElement("afterend",T);mt({license:"GPLv3",log:l?"collapsed":!1,checkOrigin:!1,scrolling:"auto",inPageLinks:!0,waitForLoad:u,onMessage(a){l&&console.log("Message from iframe:",a);const m=new CustomEvent("aides-simplifiees-message",{detail:a});window.dispatchEvent(m)},onReady(){T.style.opacity="1",l&&console.log("Iframe is ready");const a=new CustomEvent("aides-simplifiees-ready");window.dispatchEvent(a)}},T)})();
